<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ad Viewer</title>
  <style>
  
    #adFrame {
      width: 100vw;
      height: 100vh;
      border: none;
    }
    #skipBtn {
      position: absolute;
      bottom: 20px;
      right: 20px;
      padding: 10px 20px;
      background-color: #8e2de2;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 14px;
      cursor: pointer;
      display: none;
      z-index: 1000;
    }

    body {
  margin: 0;
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center; /* Ø¹Ù…ÙˆØ¯ÙŠ */
  align-items: center;     /* Ø£ÙÙ‚ÙŠ */
  font-family: Arial, sans-serif;
  text-align: center;
  background: #f9f9f9;
}

h2 {
  margin: 0 0 10px 0;
  font-size: 28px;
  color: #333;
}

p {
  margin: 0 0 15px 0;
  font-size: 18px;
  color: #666;
}

#countdown {
  font-size: 36px;
  font-weight: bold;
  color: #007bff;
}
  </style>
</head>
<body>
    <style>
  #openNow {
    position: fixed;   /* ÙŠØ«Ø¨Øª Ø§Ù„Ø²Ø± Ø£Ø³ÙÙ„ Ø§Ù„Ø´Ø§Ø´Ø© */
    bottom: 20%;       /* Ù…Ø³Ø§ÙØ© Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„ 20% */
    left: 50%;         /* Ù…Ù†ØªØµÙ Ø§Ù„Ø´Ø§Ø´Ø© Ø£ÙÙ‚ÙŠÙ‹Ø§ */
    transform: translateX(-50%); /* Ù„Ø¶Ø¨Ø·Ù‡ ØªÙ…Ø§Ù…Ù‹Ø§ ÙÙŠ Ø§Ù„Ù…Ù†ØªØµÙ */
    padding: 12px 24px;
    font-size: 16px;
    border: none;
    border-radius: 8px;
    background: linear-gradient(135deg, purple, lightpink);
    color: white;
    cursor: pointer;
  }
</style>

<button id="openNow">ÙØªØ­ Ø§Ù„Ø¢Ù†</button>
<p id="statusMsg"></p>

  <div id="waitText" style="
  position:fixed;top:20%;left:50%;
  transform:translateX(-50%);
  font-size:20px;text-align:center;
  background:#000;color:#fff;
  padding:10px 15px;border-radius:10px;
  display:none;">
  </div>
   <!--   Ù‡Ù†Ø§ Ø§Ù„Ø¹Ø±Ø¶   -->
  <h2>Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø¯ÙØ¹Ø©</h2>
  <p>Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„Ø¯ÙØ¹Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©:</p>
  <h1 id="countdown">--:--</h1>

  <script src="script.js"></script>
</body>
</html>

    <script>
        //Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ 
if (localStorage.getItem("isLoggedIn") !== "true") {
    window.location.href = "index.html"; // ÙŠÙØªØ­ ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
}
    </script>
  

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-database-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore-compat.js"></script>
<script>
    // Ø¥Ø¹Ø¯Ø§Ø¯ Firebase
    const firebaseConfig = {
        apiKey: "AIzaSyBhOhK3yCv4p-dhfXYx-w1aRB19a-VpRKY",
        authDomain: "swapio-30675.firebaseapp.com",
        projectId: "swapio-30675",
        storageBucket: "swapio-30675.appspot.com",
        messagingSenderId: "936588847751",
        appId: "1:936588847751:web:81aa27a8a12fc6d6a06622",
        measurementId: "G-L4RH076S6H",
        databaseURL: "https://swapio-30675-default-rtdb.firebaseio.com"
    };

    // ØªÙØ¹ÙŠÙ„ Firebase
    firebase.initializeApp(firebaseConfig);

    // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„
    firebase.auth().onAuthStateChanged(function(user) {
        if (user) {
            const userEmail = user.email;
            const firstLetter = userEmail.charAt(0).toUpperCase();
            console.log("Email:", userEmail);
            console.log("First letter:", firstLetter);
        } else {
            // ğŸš€ Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ù„Ù‰ index.html Ù„Ùˆ ØºÙŠØ± Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„
            window.location.href = "index.html";
        }
    });
</script>

<!--// ============= // Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£ØµÙ„ÙŠ Ø§Ù„Ø°ÙŠ ÙŠØ³ØªØ¯Ø¹ÙŠ ÙƒÙ„ Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡ // ============//-->

  <!-- 01 - Ø£Ø¯ÙˆØ§Øª Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© (random helpers) -->
<script>
// Ù‡Ø°Ø§ ÙƒÙˆØ¯: Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© ÙˆØ§Ù„Ø²Ù…Ù†
function randomInt(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function randomMs(minSec, maxSec) {
  // ÙŠØ¹ÙŠØ¯ Ø§Ù„Ø²Ù…Ù† Ø¨Ø§Ù„Ù…Ù„Ù‘ÙŠ Ø«Ø§Ù†ÙŠØ©
  return randomInt(minSec, maxSec) * 1000;
}
</script>

<script>
// ===== ÙˆØ­Ø¯Ø© Ø¥Ø¯Ø§Ø±Ø© ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± ÙÙŠ localStorage (Ù…ÙˆØ­Ø¯ Ø§Ù„Ù…ÙØªØ§Ø­) =====
const WAIT_KEY = 'waitEndTime';

function saveWaitEndTime(ms) {
  const endTime = Date.now() + ms;
  localStorage.setItem(WAIT_KEY, String(endTime));
  return endTime;
}

function getWaitEndTime() {
  const raw = localStorage.getItem(WAIT_KEY);
  return raw ? parseInt(raw, 10) : 0;
}

function getRemainingWait() {
  const end = getWaitEndTime();
  const rem = end ? end - Date.now() : 0;
  return rem > 0 ? rem : 0;
}

function clearWaitEndTime() {
  localStorage.removeItem(WAIT_KEY);
}
</script>

  

<!-- 02 - ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø´Ø±ÙƒØ§Øª ÙˆØ§Ù„Ø±ÙˆØ§Ø¨Ø· -->
<script>
// Ù‡Ø°Ø§ ÙƒÙˆØ¯: ØªØ¹Ø±ÙŠÙ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø´Ø±ÙƒØ§Øª ÙˆØ§Ù„Ø±ÙˆØ§Ø¨Ø· (Ù…ØµØ¯Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª)
const companies = {
  adstera:    ["https://www.adstera.com"],
  popads:     ["https://www.popads.com"],
  hilltop:    ["https://www.hilltop.com"],
  propeller:  ["https://www.propeller.com"],
  mediahub:   ["https://www.mediahub.com"],
  yllix:      ["https://www.yllix.com"],
  bidvertiser:["https://www.bidvertiser.com"],
  clickadu:   ["https://www.clickadu.com"],
  adcash:     ["https://www.adcash.com"],
  admaven:    ["https://www.admaven.com"]
};
</script>

<!-- 03 - Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© -->
<script>
// Ù‡Ø°Ø§ ÙƒÙˆØ¯: Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ø§Ù…Ø© ÙˆØ¥Ø¹Ø¯Ø§Ø¯Ø§ØªÙ‡Ø§
let lastFive = [];
let batchCount = 0;                       // Ù…ØªØºÙŠØ± Ø­Ø§Ù„Ø© Ø¹Ø§Ù…
let banEvery = randomInt(2, 5);           // Ø¨Ø¹Ø¯ ÙƒÙ… Ø¯ÙØ¹Ø© ÙŠØ­ØµÙ„ Ø§Ù„Ø­Ø¸Ø± Ø§Ù„Ø·ÙˆÙŠÙ„
const adHistory = [];
let countdownActive = false;
let restEvery = randomInt(4, 8);          // Ø¨Ø¹Ø¯ ÙƒÙ… Ø¯ÙØ¹Ø§Øª ØªØ¸Ù‡Ø± Ø§Ù„Ø±Ø§Ø­Ø© Ø§Ù„Ù‚ØµÙŠØ±Ø© (4-8)

// Ù…ØªØºÙŠØ± Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø¢Ø®Ø± Ù†Ø§ÙØ°Ø© Ø¥Ø¹Ù„Ø§Ù† Ù…ÙØªÙˆØ­Ø© (ÙŠØ³ØªØ®Ø¯Ù…Ù‡ openAd/waitInsideAd)
let lastOpenedAdWin = null;
</script>

<!-- 04 - ÙØªØ±Ø§Øª Ø§Ù„Ø±Ø§Ø­Ø© ÙˆØ§Ù„Ø­Ø¸Ø± (Ø§Ù„Ø²Ù…Ù†ÙŠØ§Øª) -->
<script>
// Ù‡Ø°Ø§ ÙƒÙˆØ¯: Ø¯ÙˆØ§Ù„ ØªØ¹ÙŠØ¯ ÙØªØ±Ø§Øª Ø§Ù„Ø±Ø§Ø­Ø© Ø§Ù„Ù‚ØµÙŠØ±Ø© ÙˆØ§Ù„Ø­Ø¸Ø± Ø§Ù„Ø·ÙˆÙŠÙ„
function getRestPeriod() {
  // Ø±Ø§Ø­Ø© Ù‚ØµÙŠØ±Ø©: 2-3 Ø¯Ù‚Ø§Ø¦Ù‚
  return randomInt(2, 3) * 60 * 1000;
}

function getBanPeriod() {
  // Ø­Ø¸Ø± Ø·ÙˆÙŠÙ„: Ø¨ÙŠÙ† 60 Ùˆ120 Ø¯Ù‚ÙŠÙ‚Ø©
  const min = Math.floor(1 * 60), max = Math.floor(2 * 60);
  return randomInt(min, max) * 60 * 1000;
}
</script>

<!-- 05 - Ø³Ø¬Ù„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙˆÙ…Ù†Ø¹ Ø§Ù„ØªÙƒØ±Ø§Ø± -->
<script>
// Ù‡Ø°Ø§ ÙƒÙˆØ¯: ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ø­Ø¯ÙŠØ«Ø© ÙˆÙ…Ù†Ø¹ Ø¥Ø¹Ø§Ø¯Ø© Ø¹Ø±Ø¶ Ù†ÙØ³ Ø§Ù„Ø´Ø±ÙƒØ© Ø®Ù„Ø§Ù„ Ù†Ø§ÙØ°Ø© Ø²Ù…Ù†ÙŠØ©
function canShowAd(company) {
  const now = Date.now();
  const recent = adHistory.filter(e => now - e.time < 55 * 1000); // 10 Ø¯Ù‚Ø§Ø¦Ù‚
  if (recent.some(e => e.company === company)) return false;
  return true;
}

function registerAd(company) {
  adHistory.push({ company, time: Date.now() });
  if (adHistory.length > 100) adHistory.shift();
}
</script>

<!-- 06 - Ø§Ø®ØªÙŠØ§Ø± Ø´Ø±ÙƒØ©/Ø±Ø§Ø¨Ø· Ø¹Ø´ÙˆØ§Ø¦ÙŠ -->
<script>
// Ù‡Ø°Ø§ ÙƒÙˆØ¯: Ø§Ø®ØªÙŠØ§Ø± Ø´Ø±ÙƒØ© Ø¨Ø´ÙƒÙ„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù…Ø¹ ØªØ¬Ù†Ø¨ Ø¢Ø®Ø± 5 Ø´Ø±ÙƒØ§Øª
function getRandomCompany() {
  let keys = Object.keys(companies).filter(c => !lastFive.includes(c));
  if (keys.length === 0) {
    lastFive = [];
    keys = Object.keys(companies);
  }
  const pick = keys[randomInt(0, keys.length - 1)];
  lastFive.push(pick);
  if (lastFive.length > 5) lastFive.shift();
  return pick;
}
</script>

<!-- 07 - ØªØºÙ„ÙŠÙ Ù…ÙƒØ§ÙØ¢Øª (calls safe) -->
<script>
// Ù‡Ø°Ø§ ÙƒÙˆØ¯: ØªØºÙ„ÙŠÙ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡Ø§Øª Ø§Ù„Ø¯ÙˆØ§Ù„ (ÙˆØ¬ÙˆØ¯Ù‡Ø§ Ø§Ø®ØªÙŠØ§Ø±ÙŠ) Ø­ØªÙ‰ Ù„Ø§ ÙŠØªÙˆÙ‚Ù Ø§Ù„ÙƒÙˆØ¯
async function callAddRewardIfExists() {
  if (typeof addReward === 'function') try { await addReward(); } catch(e) { console.error('addReward error', e); }
}
async function callAddWatchedAdIfExists() {
  if (typeof addWatchedAd === 'function') try { await addWatchedAd(); } catch(e) { console.error('addWatchedAd error', e); }
}
async function callAddDailyRewardIfExists() {
  if (typeof addDailyReward === 'function') try { await addDailyReward(); } catch(e) { console.error('addDailyReward error', e); }
}
</script>

<!-- 08 - ØªØ´ØºÙŠÙ„ Ø¯ÙØ¹Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª (core runBatch) -->
<script>
// Ù‡Ø°Ø§ ÙƒÙˆØ¯: ØªÙ†ÙÙŠØ° Ø¯ÙØ¹Ø© Ø¥Ø¹Ù„Ø§Ù†ÙŠØ© ÙˆØ§Ø­Ø¯Ø© (Ø§Ø®ØªÙŠØ§Ø± Ø±ÙˆØ§Ø¨Ø·ØŒ ÙØªØ­Ù‡Ø§ Ù…ØªØªØ§Ø¨Ø¹Ø§Ù‹ØŒ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£ÙˆÙ‚Ø§Øª)
async function runBatch() {
  const hour = new Date().getHours();
  const size = (hour >= 1 && hour < 6) ? 3 : randomInt(10, 15);

  // Ø¬Ù…Ø¹ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø¯ÙØ¹Ø©
  const urls = [];
  for (let j = 0; j < size; j++) {
    let comp = getRandomCompany();
    if (!canShowAd(comp)) { j--; continue; }
    const urlList = companies[comp];
    const url = urlList[randomInt(0, urlList.length - 1)];
    registerAd(comp);
    urls.push({ comp, url });
  }

  // ÙØªØ­ ÙƒÙ„ Ø±Ø§Ø¨Ø· ÙˆØ§Ø­Ø¯Ø§Ù‹ ØªÙ„Ùˆ Ø§Ù„Ø¢Ø®Ø± Ù…Ø¹ Ø²Ù…Ù† Ø¹Ø±Ø¶ 10-17s Ø«Ù… ØºÙ„Ù‚Ù‡
  for (let i = 0; i < urls.length; i++) {
    const { comp, url } = urls[i];
    const win = window.open(url, '_blank', 'noopener,noreferrer');
    if (!win) console.warn('Popup blocked or failed to open:', url);

    // Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø¥Ø°Ø§ ÙˆÙØ¬Ø¯Øª
    await callAddRewardIfExists();
    await callAddWatchedAdIfExists();
    await callAddDailyRewardIfExists();

    // Ø¨Ù‚Ø§Ø¡ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ù…ÙØªÙˆØ­Ù‹Ø§ Ø¨ÙŠÙ† 10 Ùˆ17 Ø«Ø§Ù†ÙŠØ©
    await new Promise(r => setTimeout(r, randomMs(10, 17)));

    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØªØ¨ÙˆÙŠØ¨
    try { if (win && !win.closed) win.close(); } catch (e) { /* Ù„Ø§ ØªÙˆÙ‚Ù Ø§Ù„ØªÙ†ÙÙŠØ° */ }

    // Ø§Ø³ØªØ±Ø§Ø­Ø© Ù‚ØµÙŠØ±Ø© Ø¨ÙŠÙ† 0 Ùˆ4 Ø«ÙˆØ§Ù†ÙŠ Ù‚Ø¨Ù„ Ø§Ù„ØªØ§Ù„ÙŠ
    if (i < urls.length - 1) await new Promise(r => setTimeout(r, randomMs(0, 4)));
  }

  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯ ÙˆØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªØ§Ù„ÙŠ
  batchCount++;
  let waitTime = randomMs(3 * 60, 8 * 60);
  if (hour >= 1 && hour < 6) {
    waitTime = 50 * 60 * 1000; // ÙˆÙ‚Øª Ø§Ù„Ù„ÙŠÙ„
  } else if (batchCount >= banEvery) {
    waitTime = getBanPeriod();
    batchCount = 0;
    banEvery = randomInt(2, 5);
    restEvery = randomInt(4, 8);
  } else if (batchCount % restEvery === 0) {
    waitTime = getRestPeriod();
    restEvery = randomInt(4, 8);
  } else {
    waitTime += getRestPeriod();
    restEvery = randomInt(4, 8);
  }

saveWaitEndTime(waitTime);

  window.location.herf = 'redirect.html';
  
  return waitTime;
}
</script>

<!-- 09 - Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ ÙˆlocalStorage -->


  <script>
const WAIT_KEY = 'waitEndTime';

function getWaitEndTime() {
  const r = localStorage.getItem(WAIT_KEY);
  return r ? parseInt(r, 10) : 0;
}

function getRemainingWait() {
  const e = getWaitEndTime();
  const rem = e ? e - Date.now() : 0;
  return rem > 0 ? rem : 0;
}

function clearWaitEndTime() {
  localStorage.removeItem(WAIT_KEY);
}

function formatTime(sec) {
  const h = Math.floor(sec / 3600),
        m = Math.floor((sec % 3600) / 60),
        s = sec % 60;
  if (h > 0) return `${h} Ø³Ø§Ø¹Ø© ${m} Ø¯Ù‚ÙŠÙ‚Ø©`;
  if (m > 0) return `${m} Ø¯Ù‚ÙŠÙ‚Ø© ${s} Ø«Ø§Ù†ÙŠØ©`;
  return `${s} Ø«Ø§Ù†ÙŠØ©`;
}

function startRedirectCountdown() {
  let remaining = getRemainingWait();
  const el = document.getElementById('countdown');
  if (remaining <= 0) {
    el.innerText = 'ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø¢Ù†';
    return;
  }
  el.innerText = formatTime(Math.floor(remaining / 1000));
  const id = setInterval(() => {
    remaining = getRemainingWait();
    if (remaining <= 0) {
      clearInterval(id);
      clearWaitEndTime();
      el.innerText = 'ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø¢Ù†';
      // window.location.href = '/'; // Ø§Ø®ØªÙŠØ§Ø±ÙŠ: Ø±Ø¬ÙˆØ¹ ØªÙ„Ù‚Ø§Ø¦ÙŠ
    } else {
      el.innerText = formatTime(Math.floor(remaining / 1000));
    }
  }, 1000);
}

startRedirectCountdown();
    </script>

<!-- 10 - Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©: Ø²Ø± Ø§Ù„Ø¨Ø¯Ø¡ ÙˆØ§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« -->
<script>
  window.addEventListener('load', () => {
    const remaining = getRemainingWait();
    if (remaining > 0) {
      const openBtn = document.getElementById('openNow');
      if (openBtn) openBtn.disabled = true;
      startCountdown(remaining);
    } else {
      // Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ù†ØªØ¸Ø§Ø± Ù…Ø­ÙÙˆØ¸
      // localStorage.removeItem(WAIT_KEY); // Ø§Ø®ØªÙŠØ§Ø±ÙŠ
    }
  });
</script>

<!-- A1 - Ø¯Ø§Ù„Ø© Ø¥Ø±Ø¬Ø§Ø¹ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª (Ù…ØµØ¯Ø± Ø¨Ø³ÙŠØ· Ù…Ù† companies) -->
<script>
// Ù‡Ø°Ø§ ÙƒÙˆØ¯: ØªØ±Ø¬Ù…Ø© ÙƒØ§Ø¦Ù† companies Ø¥Ù„Ù‰ Ù…ØµÙÙˆÙØ© Ù…Ù† Ø§Ù„ÙƒØ§Ø¦Ù†Ø§Øª {comp, url}
function getAdUrls() {
  const arr = [];
  for (const comp in companies) {
    const list = companies[comp] || [];
    for (const u of list) {
      arr.push({ comp, url: u });
    }
  }
  return arr;
}
</script>

<!-- A2 - Ø¯Ø§Ù„Ø© Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¹Ù„Ø§Ù† Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù…Ù† Ø§Ù„Ù…ØµÙÙˆÙØ© -->
<script>
// Ù‡Ø°Ø§ ÙƒÙˆØ¯: ÙŠØ®ØªØ§Ø± Ø¥Ø¹Ù„Ø§Ù†Ù‹Ø§ Ø¹Ø´ÙˆØ§Ø¦ÙŠÙ‹Ø§ Ù…Ù† Ø§Ù„Ù…ØµÙÙˆÙØ© (ÙŠØ¹Ø§Ø¯Ù„Ù‡ Ø¨Ù†ÙØ³ Ø§Ù„Ø¨Ù†ÙŠØ© {comp, url})
function pickRandomAd(urls) {
  if (!Array.isArray(urls) || urls.length === 0) return null;
  return urls[Math.floor(Math.random() * urls.length)];
}
</script>

<!-- A3 - Ø¯Ø§Ù„Ø© ÙØªØ­ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† -->
<script>
// Ù‡Ø°Ø§ ÙƒÙˆØ¯: ÙØªØ­ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† ÙÙŠ ØªØ¨ÙˆÙŠØ¨ Ø¬Ø¯ÙŠØ¯ ÙˆØªØ®Ø²ÙŠÙ† Ø§Ù„Ù†Ø§ÙØ°Ø© ÙÙŠ Ù…ØªØºÙŠØ± Ø¹Ø§Ù…
function openAd(url) {
  try {
    const win = window.open(url, '_blank', 'noopener,noreferrer');
    if (!win) {
      console.warn('Popup blocked or failed to open:', url);
      lastOpenedAdWin = null;
      return null;
    }
    lastOpenedAdWin = win;
    return win;
  } catch (e) {
    console.error('openAd error', e);
    lastOpenedAdWin = null;
    return null;
  }
}
</script>

<!-- A4 - ØªØºÙ„ÙŠÙ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡Ø§Øª Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª (ÙŠØ¬Ù…Ø¹ Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø§Øª Ø§Ù„Ø«Ù„Ø§Ø«Ø©) -->
<script>
// Ù‡Ø°Ø§ ÙƒÙˆØ¯: ÙŠØ·Ø§Ù„Ø¹ Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª (Ù„Ùˆ Ù…ØªÙˆÙØ±Ø©) Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø¢Ù…Ù†Ø©
async function handleRewards() {
  await callAddRewardIfExists();
  await callAddWatchedAdIfExists();
  await callAddDailyRewardIfExists();
}
</script>

<!-- A5 - Ø§Ù†ØªØ¸Ø§Ø± Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†: ÙŠØ¨Ù‚ÙŠ Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ù…ÙØªÙˆØ­ 10-17 Ø«Ø§Ù†ÙŠØ© Ø«Ù… ÙŠØºÙ„Ù‚Ù‡ -->
<script>
// Ù‡Ø°Ø§ ÙƒÙˆØ¯: ÙŠØ¨Ù‚ÙŠ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ù…ÙØªÙˆØ­Ù‹Ø§ Ù…Ø¯Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© (10-17s) Ø«Ù… ÙŠØºÙ„Ù‚ Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø£Ø®ÙŠØ± Ø§Ù„Ù…ÙØªÙˆØ­
async function waitInsideAd() {
  // Ù…Ø¯Ø© Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙØ¹Ù„ÙŠØ© (Ø¨Ù…Ù„Ù‘ÙŠ Ø«Ø§Ù†ÙŠØ©)
  const stayMs = randomMs(10, 17);
  await new Promise(res => setTimeout(res, stayMs));

  // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø¥Ù† ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø©
  try {
    if (lastOpenedAdWin && !lastOpenedAdWin.closed) {
      lastOpenedAdWin.close();
      lastOpenedAdWin = null;
    }
  } catch (e) {
    // Ù„Ø§ ØªÙˆÙ‚Ù Ø§Ù„ØªÙ†ÙÙŠØ° Ù„Ùˆ Ø­ØµÙ„ Ø®Ø·Ø£ cross-origin Ø£Ùˆ Ù…Ù†Ø¹
    console.warn('Error closing ad window', e);
  }
}
</script>

<!-- A6 - Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø¨ÙŠÙ† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª: Ø§Ø³ØªØ±Ø§Ø­Ø© Ù‚ØµÙŠØ±Ø© 0-4 Ø«ÙˆØ§Ù†ÙŠ -->
<script>
// Ù‡Ø°Ø§ ÙƒÙˆØ¯: Ø§Ø³ØªØ±Ø§Ø­Ø© Ù‚ØµÙŠØ±Ø© Ø¨ÙŠÙ† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª (0-4s)
function waitBetweenAds() {
  return new Promise(res => setTimeout(res, randomMs(0, 4)));
}
</script>

<!-- A7 - Ù‚Ø±Ø§Ø± Ù…ØªÙ‰ ØªØ¤Ø®Ø° Ø§Ù„Ø±Ø§Ø­Ø© Ø§Ù„Ù‚ØµÙŠØ±Ø© -->
<script>
// Ù‡Ø°Ø§ ÙƒÙˆØ¯: ÙŠØ­Ø¯Ø¯ Ø¥Ù† ÙƒØ§Ù† Ø§Ù„ÙˆÙ‚Øª Ù‚Ø¯ Ø­Ø§Ù† Ù„Ø£Ø®Ø° Ø±Ø§Ø­Ø© Ù‚ØµÙŠØ±Ø© (restEvery Ù…Ø¹Ø±Ù ÙÙŠ Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ø¹Ø§Ù…Ø©)
function shouldTakeShortBreak(batchCountParam) {
  if (typeof restEvery === 'undefined' || restEvery <= 0) return false;
  return (batchCountParam % restEvery) === 0;
}
</script>

<!-- A8 - ØªÙ†ÙÙŠØ° Ø§Ù„Ø±Ø§Ø­Ø© Ø§Ù„Ù‚ØµÙŠØ±Ø© (Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ startCountdown ÙˆØ§Ù„Ø§Ù†ØªØ¸Ø§Ø±) -->

<script>
// Ø±Ø§Ø­Ø© Ù‚ØµÙŠØ±Ø©: Ø­ÙØ¸ ÙˆÙ‚Øª Ø§Ù„Ø±Ø§Ø­Ø© Ø«Ù… Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ Ù„ØµÙØ­Ø© redirect.html
async function takeShortBreak() {
  const waitTime = getRestPeriod(); // Ø¨Ø§Ù„Ù…Ù„Ù‘ÙŠ Ø«Ø§Ù†ÙŠØ©
  // Ø­ÙØ¸ ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡
  saveWaitEndTime(waitTime);
  // (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· restEvery Ø§Ù„Ø¢Ù† Ø£Ùˆ Ø¨Ø¹Ø¯ Ø§Ù„Ø¹ÙˆØ¯Ø© - Ù‡Ù†Ø§ Ù†Ø¹ÙŠØ¯ Ø¶Ø¨Ø·Ù‡ Ø§Ù„Ø¢Ù†
  restEvery = randomInt(4, 8);
  // Ø§Ø®Ø±Ø¬ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ø¯Ø§Ø¯
  window.location.href = 'redirect.html';
}

// Ø­Ø¸Ø± Ø·ÙˆÙŠÙ„: Ø­ÙØ¸ ÙˆÙ‚Øª Ø§Ù„Ø­Ø¸Ø± Ø«Ù… Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ Ù„ØµÙØ­Ø© redirect.html
async function takeLongBan() {
  const waitTime = getBanPeriod(); // Ø¨Ø§Ù„Ù…Ù„Ù‘ÙŠ Ø«Ø§Ù†ÙŠØ©
  saveWaitEndTime(waitTime);
  // Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ù‚ÙŠÙ… ÙƒÙ…Ø§ ÙÙŠ ØªØµÙ…ÙŠÙ…Ùƒ
  batchCount = 0;
  banEvery = randomInt(2, 5);
  restEvery = randomInt(4, 8);
  // Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ø¯Ø§Ø¯
  window.location.href = 'redirect.html';
}
</script>
<!-- A9 - Ù‚Ø±Ø§Ø± Ù…ØªÙ‰ ÙŠØ¤Ø®Ø° Ø§Ù„Ø­Ø¸Ø± Ø§Ù„Ø·ÙˆÙŠÙ„ -->
<script>
// Ù‡Ø°Ø§ ÙƒÙˆØ¯: ÙŠØ­Ø¯Ø¯ Ø¥Ù† ÙƒØ§Ù† ÙŠØ¬Ø¨ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ø¸Ø± Ø§Ù„Ø·ÙˆÙŠÙ„ Ø¨Ù†Ø§Ø¡ Ø¹Ù„Ù‰ batchCount Ùˆ banEvery
function shouldTakeLongBan(batchCountParam) {
  return batchCountParam >= banEvery;
}
</script>

<!-- A10 - ØªÙ†ÙÙŠØ° Ø§Ù„Ø­Ø¸Ø± Ø§Ù„Ø·ÙˆÙŠÙ„ -->


<!-- A11 - Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ -->
<script>
// Ù‡Ø°Ø§ ÙƒÙˆØ¯: ÙŠØ¹ÙŠØ¯ ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„ØµÙØ­Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ© (ÙŠÙ…ÙƒÙ†Ùƒ ØªØºÙŠÙŠØ± Ø§Ù„Ø±Ø§Ø¨Ø·)
function redirectToEndPage() {
  window.location.href = 'redirect.html';
}
</script>

<!-- ========== Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£ØµÙ„ÙŠ Ø§Ù„Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ´ØºÙŠÙ„ (mainAdFlow) - ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¢Ø®Ø± Ø´ÙŠØ¡ ÙÙŠ Ø§Ù„Ù…Ù„Ù ========== -->
<script>
(async function mainAdFlow() {
  const urls = getAdUrls();

  // Ù†Ø¹ØªØ¨Ø± ÙƒÙ„ 15 Ø­Ù„Ù‚Ø© ÙƒÙ€ 15 Ø¥Ø¹Ù„Ø§Ù† Ø¯Ø§Ø®Ù„ Ø¯ÙØ¹Ø© ÙˆØ§Ø­Ø¯Ø© ÙƒÙ…Ø§ ÙÙŠ ÙƒÙˆØ¯Ùƒ Ø§Ù„Ø£ØµÙ„ÙŠ
  // Ù…Ù„Ø§Ø­Ø¸Ø©: Ù‡Ù†Ø§ i ÙŠÙ…Ø«Ù„ ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¯ÙØ¹Ø© ÙˆÙ„ÙŠØ³ Ø¯ÙØ¹Ø§Øª Ù…ØªØªØ§Ù„ÙŠØ©
  for (let i = 0; i < 15; i++) {
    const ad = pickRandomAd(urls);
    if (!ad) continue;

    // Ø§ÙØªØ­ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† ÙˆØ®Ø²Ù† Ø§Ù„Ù…Ø±Ø¬Ø¹
    const win = openAd(ad.url);

    // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡Ø§Øª Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª
    await handleRewards();

    // Ø§Ù†ØªØ¸Ø± Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† (10-17s) Ø«Ù… Ø§ØºÙ„Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø¥Ù† Ø£Ù…ÙƒÙ†
    await waitInsideAd();

    // Ø§Ø³ØªØ±Ø§Ø­Ø© Ù‚ØµÙŠØ±Ø© Ø¨ÙŠÙ† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø¯Ø§Ø®Ù„ Ù†ÙØ³ Ø§Ù„Ø¯ÙØ¹Ø© (0-4s)
    if (i < 15 - 1) {
      await waitBetweenAds();
    }
  }

  // **Ø§Ù„Ø¢Ù† Ø§Ù†ØªÙ‡Øª "Ø§Ù„Ø¯ÙØ¹Ø©" ÙƒØ§Ù…Ù„Ø©** -> Ù†Ø²ÙŠØ¯ batchCount Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ù‡Ù†Ø§ ÙÙ‚Ø·
  batchCount++;

  // Ø­Ø³Ø§Ø¨ ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¥Ù„Ø²Ø§Ù…ÙŠ Ø¨ÙŠÙ† Ø§Ù„Ø¯ÙØ¹Ø§Øª: Ø±Ø§Ø­Ø© Ø£Ø³Ø§Ø³ÙŠØ© 3-8 Ø¯Ù‚Ø§Ø¦Ù‚
  let waitTime = randomMs(3 * 60, 8 * 60);

  const hour = new Date().getHours();

  // Ø§Ù„Ø¢Ù† Ù†Ø¶ÙŠÙ Ø£ÙŠ ÙØªØ±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ù„ÙŠÙ„ / Ø­Ø¸Ø± Ø·ÙˆÙŠÙ„ / Ø±Ø§Ø­Ø© Ù‚ØµÙŠØ±Ø©) â€” Ù†Ø¶ÙŠÙÙ‡Ø§ Ø¥Ù„Ù‰ waitTime
  if (hour >= 1 && hour < 6) {
    // ÙˆÙ‚Øª Ø§Ù„Ù„ÙŠÙ„ (Ø®Ø§ØµØ©): 50 Ø¯Ù‚ÙŠÙ‚Ø© ØªØ¶Ø§Ù
    waitTime += 50 * 60 * 1000;
  } else if (shouldTakeLongBan(batchCount)) {
    // Ø­Ø¸Ø± Ø·ÙˆÙŠÙ„
    waitTime += getBanPeriod();
    // Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø¸Ø±
    batchCount = 0;
    banEvery = randomInt(2, 5);
    restEvery = randomInt(4, 8);
  } else if (shouldTakeShortBreak(batchCount)) {
    // Ø±Ø§Ø­Ø© Ù‚ØµÙŠØ±Ø© Ø¥Ø¶Ø§ÙÙŠØ© (Ù…Ø«Ù„Ø§Ù‹ 2-3 Ø¯Ù‚Ø§Ø¦Ù‚ ÙƒÙ…Ø§ ÙÙŠ getRestPeriod)
    waitTime += getRestPeriod();
    restEvery = randomInt(4, 8);
  }

  // Ø®Ø²Ù† ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ ÙÙŠ localStorage Ù„ÙƒÙŠ ØªØ¸Ù‡Ø± Ø§Ù„ØµÙØ­Ø© redirect.html Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØµØ­ÙŠØ­
  const endTime = Date.now() + waitTime;
  localStorage.setItem('waitEndTime', String(endTime));

  // Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„ØµÙØ­Ø© Ø§Ù„Ø¹Ø±Ø¶ (redirect.html) Ø­ÙŠØ« Ø³ÙŠÙØ¹Ø±Ø¶ Ø§Ù„Ø¹Ø¯Ø§Ø¯
  window.location.href = 'redirect.html';
})();
</script>





       <!--    Ø§Ù„ØªØ®Ø²ÙŠÙ†      -->



      
  
<script>
        //ØªØ®Ø²ÙŠÙ† Ø±ØµÙŠØ¯.Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
async function addReward() {
  const user = firebase.auth().currentUser;
  if (!user) {
    console.error("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„!");
    return;
  }

  const uid = user.uid;
  const userRef = firebase.database().ref("users/" + uid + "/balance");

  try {
    const snapshot = await userRef.get();
    let balance = snapshot.exists() ? snapshot.val() : 0;

    balance = parseFloat(balance) + 0.1; // Ù†Ø²ÙŠØ¯ 0.1

    await userRef.set(balance); // Ù†Ø­ÙØ¸Ù‡ Ù…Ù† Ø¬Ø¯ÙŠØ¯
    console.log("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±ØµÙŠØ¯:", balance);
  } catch (error) {
    console.error("Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±ØµÙŠØ¯:", error);
  }
}
</script>

<script>
  // Ø²ÙŠØ§Ø¯Ø© Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„ØªÙŠ Ø´Ø§Ù‡Ø¯Ù‡Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  async function addWatchedAd() {
    const user = firebase.auth().currentUser;
    if (!user) {
      console.error("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„!");
      return;
    }

    const uid = user.uid;
    const userRef = firebase.database().ref("users/" + uid + "/daywacted");

    try {
      const snapshot = await userRef.get();
      let count = snapshot.exists() ? snapshot.val() : 0;

      count = parseInt(count) + 1; // Ù†Ø²ÙŠØ¯ 1

      await userRef.set(count); // Ù†Ø­ÙØ¸Ù‡ Ù…Ù† Ø¬Ø¯ÙŠØ¯
      console.log("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª:", count);
    } catch (error) {
      console.error("Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª:", error);
    }
  }
</script>

<script>
  // Ø²ÙŠØ§Ø¯Ø© Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„ÙŠÙˆÙ… Ù…Ù† LocalStorage
  function addDailyReward() {
    const now = Date.now();

    // Ù†Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† localStorage
    let earningsData = JSON.parse(localStorage.getItem("earningsTodayData"));

    if (!earningsData) {
      // Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª â†’ Ù†Ø¨Ø¯Ø£ Ù…Ù† Ø¬Ø¯ÙŠØ¯
      earningsData = { amount: 0, startTime: now };
    } else {
      // ØªØ­Ù‚Ù‚ Ù‡Ù„ Ù…Ø±Ù‘ 24 Ø³Ø§Ø¹Ø©
      const elapsed = now - earningsData.startTime;
      if (elapsed > 24 * 60 * 60 * 1000) { 
        // Ù…Ø± Ø£ÙƒØ«Ø± Ù…Ù† ÙŠÙˆÙ… â†’ Ø¥Ø¹Ø§Ø¯Ø© ØªØµÙÙŠØ±
        earningsData = { amount: 0, startTime: now };
      }
    }

    // Ù†Ø²ÙŠØ¯ 0.1
    earningsData.amount = parseFloat(earningsData.amount) + 0.1;

    // Ù†Ø®Ø²Ù† Ù…Ù† Ø¬Ø¯ÙŠØ¯
    localStorage.setItem("earningsTodayData", JSON.stringify(earningsData));

    console.log("Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø¢Ù†:", earningsData.amount.toFixed(2));
    return earningsData.amount;
  }
</script>


<script>
// ğŸ§  Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù„Ù„Ø¨ØµÙ…Ø© ÙˆØ§Ù„ØªØ´ÙˆÙŠØ´ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ

// âœ… Zoom Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ø¨ÙŠÙ† 95% Ùˆ104%
document.body.style.zoom = (0.95 + Math.random() * 0.09).toFixed(2);

// âœ… Ø­Ø¬Ù… Ø§Ù„Ø®Ø· ÙŠØªØºÙŠØ± Ø¨Ø´ÙƒÙ„ Ø·ÙÙŠÙ
document.body.style.fontSize = `${Math.floor(14 + Math.random() * 3)}px`;

// âœ… Ù„ØºØ© Ø§Ù„Ù…ØªØµÙØ­ ØªØªØºÙŠØ± Ø¨Ø´ÙƒÙ„ Ø®ÙÙŠÙ
const langs = ['en-US', 'en-GB', 'fr-FR', 'ar-DZ'];
try {
  Object.defineProperty(navigator, 'language', {
    get: () => langs[Math.floor(Math.random() * langs.length)]
  });
} catch (e) {
  console.warn("Ù„Ù… ÙŠØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©: " + e.message);
}

// âœ… Canvas fingerprint ØªØ´ÙˆÙŠØ´ Ø¨Ø³ÙŠØ·
try {
  const canvas = document.createElement('canvas');
  const ctx = canvas.getContext('2d');
  ctx.textBaseline = "top";
  ctx.font = "14px Arial";
  ctx.fillStyle = "#f00";
  ctx.fillText("Test" + Math.random().toFixed(5), 10, 10);
} catch (e) {
  console.warn("Canvas spoofing failed: " + e.message);
}

// âœ… Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ø´Ø§Ø´Ø© (Screen Size) ØªØ´ÙˆÙŠØ´ Ø¨Ø³ÙŠØ·
try {
  const randomOffset = () => Math.floor(Math.random() * 3) - 1; // -1 Ø£Ùˆ 0 Ø£Ùˆ +1
  Object.defineProperty(screen, 'width', {
    get: () => window.innerWidth + randomOffset()
  });
  Object.defineProperty(screen, 'height', {
    get: () => window.innerHeight + randomOffset()
  });
} catch (e) {
  console.warn("Ù„Ù… ÙŠØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ø´Ø§Ø´Ø©: " + e.message);
}

// âœ… WebGL Fingerprint noise
try {
  const getParameter = WebGLRenderingContext.prototype.getParameter;
  WebGLRenderingContext.prototype.getParameter = function(parameter) {
    if (parameter === 37445 || parameter === 37446) {
      // vendor / renderer
      return "FakeWebGL-" + Math.random().toString(36).substring(2, 8);
    }
    return getParameter.apply(this, arguments);
  };
} catch (e) {
  console.warn("WebGL spoofing failed: " + e.message);
}

// âœ… AudioContext Fingerprint noise
try {
  const origGetChannelData = AudioBuffer.prototype.getChannelData;
  AudioBuffer.prototype.getChannelData = function() {
    const results = origGetChannelData.apply(this, arguments);
    for (let i = 0; i < results.length; i += 100) {
      results[i] = results[i] + (Math.random() * 0.0001 - 0.00005);
    }
    return results;
  };
} catch (e) {
  console.warn("Audio spoofing failed: " + e.message);
}

// âœ… ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„ØªÙ†ÙÙŠØ° (300-800ms)
const fingerprintDelay = Math.floor(Math.random() * 500) + 300;
setTimeout(() => {
  console.log("âœ… Fingerprint noise applied.");
  // ÙŠÙ…ÙƒÙ†Ùƒ Ù‡Ù†Ø§ ØªØ´ØºÙŠÙ„ Ø£ÙŠ Ø´ÙŠØ¡ Ø¥Ø¶Ø§ÙÙŠ Ø¨Ø¹Ø¯ Ø§Ù„ØªØ£Ø®ÙŠØ±
}, fingerprintDelay);

</script>
</body>
</html>
